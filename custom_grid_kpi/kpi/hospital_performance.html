<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reveal - Custom KPI Visualization</title>
  </head>

  <body>
    
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <script src="https://unpkg.com/dayjs@1.8.21/dayjs.min.js"></script>
    <script src="https://dl.revealbi.io/reveal/libs/1.7.3/infragistics.reveal.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

    <div id="revealView" style="height: calc(100vh - 20px); width: 100%"></div>

    <script type="text/javascript">
    $.ig.RevealSdkSettings.setBaseUrl("http://localhost:5111/");

    $.ig.RevealSdkSettings.enableActionsOnHoverTooltip = true;
    //$.ig.RevealSdkSettings.theme = this.createCustomTheme();







    var theme = new $.ig.RevealTheme();

var theme = new $.ig.RevealTheme();
    //theme.fontColor = "#ff0000";
    //theme.accentColor = "rgb(192, 80, 77)";
    theme.dashboardBackgroundColor = "#F9FAFB";
    //theme.visualizationBackgroundColor = "rgb(153, 255, 255)";
    theme.chartColors = ["rgb(192, 80, 77)", "rgb(101, 197, 235)", "rgb(232, 77, 137)"];
    // theme.chartColors = [
    //   "rgb(161, 196, 253)",  // Light Blue
    //   "rgb(250, 219, 216)",  // Light Coral Pink
    //   "rgb(214, 234, 248)",  // Ice Blue
    // ];

    // theme.chartColors = [
    //   "rgb(229, 229, 229)",  // Light Gray
    //   "rgb(204, 229, 255)",  // Pale Sky Blue
    //   "rgb(255, 218, 233)",  // Baby Pink
    // ];


    // theme.chartColors = [
    //   "rgb(192, 222, 237)",  // Powder Blue
    //   "rgb(210, 234, 203)",  // Light Sage
    //   "rgb(255, 229, 217)",  // Peach Cream
    // ];



    theme.regularFont = "Inter";
    theme.mediumFont = "Inter";
    theme.boldFont = "Inter";
    theme.useRoundedCorners = true;


theme.visualizationMargin = 8;
//theme.widgetMargin = 0;


$.ig.RevealSdkSettings.theme = theme;









    var revealView = new $.ig.RevealView("#revealView");
    revealView.interactiveFilteringEnabled = true;
    //revealView.startInEditMode = true;

    $.ig.RVDashboard.loadDashboard("KPI_01").then((dashboard) => {
      revealView.interactiveFilteringEnabled = true;
      revealView.showChangeDataSource = true;
      revealView.showEditDataSource = true;
      revealView.dashboard = dashboard;
    });

    revealView.onDataSourcesRequested = (callback) => {
      var localFileItem4 = new $.ig.RVLocalFileDataSourceItem();
      localFileItem4.id = "Healthcare";
      var excelDataSourceItem4 = new $.ig.RVExcelDataSourceItem(localFileItem4);
      excelDataSourceItem4.id = "Healthcare";
      excelDataSourceItem4.title = "Healthcare Data";

      callback(new $.ig.RevealDataSources([], [excelDataSourceItem4], true));
    };

    revealView.chartTypes.push({
      title: "KPI",
      url: "kpi_widget_bound.html",
      icon: "https://help.revealbi.io/img/logo.png",
      groups: ["Custom Visualizations"],
    });

    function createCustomTheme(){
        var theme = new $.ig.RevealTheme();
        //theme.visualizationBackgroundColor = "#ffffff";
        theme.visualizationBackgroundColor = "white";
        theme.useRoundedCorners = true;
        theme.visualizationMargin = 6;
        theme.widgetMargin = 0;
        return theme;
    };

    </script>
    
  </body>
</html>
